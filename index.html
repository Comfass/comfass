<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Comfass כרית ניידת לישיבה נוחה וממושכת</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class' // מאפשר dark לפי class בלבד
    }
  </script>
  
  <meta name="description" content="Comfass הפתרון החדשני והנוח לישיבה ממושכת" />
  <meta property="og:title" content="Comfass הפתרון הנוח שלך" />
  <meta property="og:description" content="הצטרפו למהפכת הנוחות עם Comfass פתרון חדשני לישיבה ממושכת" />
  <meta property="og:image" content="https://comfass.com/img/comfass-logo.jpg" />
  <meta property="og:type" content="website" />
  <link rel="icon" href="https://comfass.com/img/comfass-logo.jpg" type="image/jpeg">
  <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@400;700&family=Varela+Round&display=swap" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <link rel="stylesheet" href="./css/style.css">
</head>


<body class="bg-gray-50 text-gray-800 pt-10">
   <header>
  <div class="ticker-container fixed top-0 w-full z-50 bg-gray-900 text-white overflow-hidden">
    <div class="ticker-content whitespace-nowrap animate-scroll px-4 py-2">
       ✨אתם יכולים להיות הלקוחות הראשונים שלנו, הצטרפו למהפכת הנוכות עוד היום✨
    </div>
  </div>
     
<section class="bg-animate min-h-[85vh] flex flex-col items-center justify-center px-4 text-center text-white space-y-6">
  

  <!-- משפט ראשון באפקט הקלדה -->
<p id="line1" class="text-xl sm:text-2xl md:text-3xl font-light font-[Varela Round] text-center max-w-screen-md mx-auto px-4"></p>
 

  <!-- תמונת לוגו אחרי שני המשפטים -->
 <img 
  id="logo"
  src="img/COMFASS-LOGO-No-BackGround.png" 
  alt="ComfAss Logo" 
  class="mx-auto w-72 sm:w-[26rem] md:w-[32rem] lg:w-[40rem] xl:w-[44rem] drop-shadow-2xl opacity-0 transition-opacity duration-700"
/> 
    <!-- משפט שני באפקט הקלדה (נפרד) -->
<p id="line2" class="text-base sm:text-lg md:text-xl lg:text-2xl xl:text-3xl 
           font-light font-[Varela Round] 
           text-center px-4 max-w-screen-md mx-auto"></p>
  
<!-- מקום לכפתור פעולה -->
<div id="cta-button-container"></div>

</section>

   
 <section class="py-20 px-6 transition-theme text-center" data-aos="fade-up">
    <h2 class="text-3xl font-bold mb-4">הבעיה</h2>
    <p class="text-xl max-w-2xl mx-auto leading-relaxed">
    כולנו מבלים שעות ארוכות בישיבה – בהרצאות, בלימודים, במשרד או בבית. <br>
    רוב הכיסאות שסביבנו לא מיועדים לישיבה ממושכת, וכך חוסר הנוחות מתחיל להצטבר.
    הגב כואב, הריכוז נעלם, והעייפות משתלטת על כל היום.<br><br>
התוצאה ברורה: גם הבריאות נפגעת וגם היכולת להישאר ממוקדים ויעילים. במקום להתקדם, אנחנו מתמודדים עם כאב ותסכול שניתן היה למנוע מראש.
</p>
  </section>

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

<section class="py-20 px-6 transition-theme max-w-6xl mx-auto" data-aos="fade-up">
  <h2 class="text-3xl font-bold text-center mb-16">מתוך הצורך הזה נולד <span class="text-cyan-600">Comfass</span>!</h2>

  <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
    
   <!-- צד שמאל – מודל תלת ממדי -->
<div class="flex flex-col items-center">
  <model-viewer 
    src="/models/Product_3D_Model.glb"
    alt="ComfAss Cushion 3D"
    auto-rotate
    camera-controls
    shadow-intensity="1"
    environment-image="neutral"
    class="w-full max-w-sm h-[500px] rounded-2xl shadow-xl bg-gray-100">
  </model-viewer>
  
  <!-- כיתוב מתחת למודל -->
  <small class="text-gray-500 mt-2 text-sm">* המודל להמחשה בלבד</small>
</div>


    <!-- צד ימין – הסיבות -->
    <div class="space-y-8 text-right">
      <div class="flex items-start gap-4">
        <div class="text-2xl text-blue-600">✔️</div>
        <span class="text-xl">פיתוח ישראלי איכותי</span>
      </div>
      <div class="flex items-start gap-4">
        <div class="text-2xl text-blue-600">💼</div>
        <span class="text-xl">קלה, ניידת ומתלבשת על כל תיק</span>
      </div>
      <div class="flex items-start gap-4">
        <div class="text-2xl text-blue-600">🪑</div>
        <span class="text-xl">מתאימה לכל גוף ולכל כיסא</span>
      </div>
      <div class="flex items-start gap-4">
        <div class="text-2xl text-blue-600">🎨</div>
        <span class="text-xl">ניתן למיתוג אישי עם לוגו</span>
      </div>

      <div class="pt-8 text-center lg:text-right">
        <h3 class="text-2xl font-semibold mb-2">עשייה עם ערך מוסף</h3>
        <p class="text-lg text-gray-700 leading-relaxed max-w-md">10% מהרווחים שלנו מוקדשים לתרומות לילדים במצוקה כלכלית בישראל. יחד אנחנו עושים שינוי אמיתי.</p>
      </div>
    </div>
  </div>
</section>

<section class="py-20 px-6 transition-theme max-w-5xl mx-auto text-center" data-aos="fade-up">
  <h2 class="text-3xl font-bold mb-6">מי עומד מאחורי ComfAss?</h2>
  <p class="text-xl leading-relaxed text-gray-800 max-w-3xl mx-auto">
    אנחנו שלושה סטודנטים להנדסה מהמכללה האקדמית SCE, פיתחנו את Comfass מתוך צורך אישי אמיתי. 
    אחרי שעות רבות של ישיבה לא נוחה בהרצאות, הבנו שאפשר ואפילו צריך למצוא פתרון פשוט, יעיל ונוח שיתאים לכולם.
  </p>
  <p class="mt-6 text-lg text-gray-600 max-w-2xl mx-auto">
    המטרה שלנו הייתה אחת: להפוך כל כיסא לנוח יותר. והיום, אנחנו גאים להציג בפניכם את התוצאה.
  </p>

<!-- Alpine.js -->
<script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>

<!-- קרוסלת תמונות עם טקסט מעל התמונות -->
<div 
  x-data="{
    activeSlide: 0,
    slides: [
      { src: 'img/Product1.jpg', caption: 'לוקחים אותה לכל מקום – פשוט ונוח' },
      { src: 'img/Product2.jpg', caption: 'מתאימה לכל כיסא באקדמיה או בבית' },
      { src: 'img/Product3.jpg', caption: 'תואמת לכל תיק – מקסימום נוחות וניידות' },
      { src: 'img/Product4.jpg', caption: 'קלה לנשיאה – מתאימה לכל תיק סטודנטיאלי' }
    ]
  }"
  x-init="setInterval(() => { activeSlide = (activeSlide + 1) % slides.length }, 7000)"
  class="relative w-full max-w-3xl mx-auto mt-12 overflow-hidden rounded-xl shadow-xl"
  style="height: 450px;"
>

  <!-- טקסט מעל התמונה -->
  <div class="absolute top-0 w-full bg-white/70 text-gray-800 text-lg font-semibold py-4 text-center z-20 backdrop-blur-sm">
    <span x-text="slides[activeSlide].caption"></span>
  </div>

  <!-- תמונות -->
  <template x-for="(slide, index) in slides" :key="index">
    <div 
      x-show="activeSlide === index" 
      x-transition:enter="transition-opacity duration-700" 
      x-transition:enter-start="opacity-0" 
      x-transition:enter-end="opacity-100" 
      x-transition:leave="transition-opacity duration-700" 
      x-transition:leave-start="opacity-100" 
      x-transition:leave-end="opacity-0"
      class="absolute top-0 left-0 w-full h-full z-10"
    >
      <img :src="slide.src" class="carousel-image w-full h-full object-contain bg-white" :alt="'תמונה ' + (index)">
    </div>
  </template>

<!-- חיצים -->
<button 
  @click="activeSlide = activeSlide === 0 ? slides.length - 1 : activeSlide - 1" 
  class="absolute left-3 top-1/2 transform -translate-y-1/2 
         w-10 h-10 flex items-center justify-center 
         bg-white text-gray-800 text-lg font-bold 
         rounded-full shadow-md z-30 hover:bg-gray-200 hover:text-black transition-colors"
>
  ◀
</button>

<button 
  @click="activeSlide = (activeSlide + 1) % slides.length" 
  class="absolute right-3 top-1/2 transform -translate-y-1/2 
         w-10 h-10 flex items-center justify-center 
         bg-white text-gray-800 text-lg font-bold 
         rounded-full shadow-md z-30 hover:bg-gray-200 hover:text-black transition-colors"
>
  ▶
</button>

<!-- נקודות -->
<div class="absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2 z-30">
  <template x-for="(slide, i) in slides" :key="i">
    <div 
      @click="activeSlide = i" 
      :class="{'bg-cyan-600': activeSlide === i, 'bg-gray-300': activeSlide !== i}" 
      class="w-3 h-3 rounded-full cursor-pointer transition-colors"
    ></div>
  </template>
</div>
</section>
  
<section id="contact" class="py-20 px-6 bg-gray-100" transition-theme data-aos="fade-up" data-aos-duration="1000">
  <div class="max-w-6xl mx-auto grid md:grid-cols-2 gap-10 items-start md:items-stretch">
    <!-- טופס יצירת קשר -->
    <div class="flex flex-col justify-center">
      <h2 class="text-2xl font-bold mb-6 text-center md:text-right">📩 צור קשר להזמנה סיטונאית</h2>
      <form id="contact-form" action="https://formspree.io/f/xgvyrwrd" method="POST" class="space-y-4 text-right">
        <input type="text" name="name" autocomplete="name" placeholder="שם מלא" required class="w-full border p-3 rounded-lg shadow-sm" />
        <input type="email" name="email" autocomplete="email" placeholder="אימייל" required class="w-full border p-3 rounded-lg shadow-sm" />
        <input type="tel" name="phone" autocomplete="phone" placeholder="מספר טלפון" required class="w-full border p-3 rounded-lg shadow-sm" />
        <input type="text" name="company" autocomplete="company" placeholder="שם מוסד / חברה" class="w-full border p-3 rounded-lg shadow-sm" />
        <textarea name="message" placeholder="טקסט חופשי" rows="4" class="w-full border p-3 rounded-lg shadow-sm"></textarea>
        <!-- Checkbox חדש עם האנימציה -->
<div class="checkbox-wrapper flex items-start mb-4">
  <!-- שים לב: שמרנו על אותו id ושמנו required -->
  <input id="terms" name="terms" type="checkbox" required>

  <!-- התווית מפעילה את ה-checkbox בלחיצה על האזור שלה (לא על הכפתורים) -->
  <label class="terms-label" for="terms">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 200 200" class="checkbox-svg" aria-hidden="true" focusable="false">
      <mask fill="white" id="path-1-inside-1_476_5-37">
        <rect height="200" width="200"></rect>
      </mask>
      <rect mask="url(#path-1-inside-1_476_5-37)" stroke-width="40" class="checkbox-box" height="200" width="200"></rect>
      <path stroke-width="15" d="M52 111.018L76.9867 136L149 64" class="checkbox-tick"></path>
    </svg>

    <!-- טקסט ההצהרה -->
    <span class="label-text">אני מאשר/ת את</span>

    <!-- הכפתורים: עוצרים בועת קליק כדי שלא ילחצו על ה-checkbox -->
   <button type="button" class="text-blue-600 underline ml-1"
        onclick="event.stopPropagation(); openModal('termsModal', './modals/terms.html')">
  תנאי השימוש
</button>
<span class="label-text">&nbsp;ואת&nbsp;</span>
<button type="button" class="text-blue-600 underline"
        onclick="event.stopPropagation(); openModal('privacyModal', './modals/privacy.html')">
  מדיניות הפרטיות
</button>
    <span class="label-text">.</span>
  </label>
</div>

        <button id="submit-btn" type="submit" disabled class="w-full py-3 rounded-lg shadow-lg transition transform">שלח פנייה</button>
      </form>
      <div id="thank-you" class="hidden text-center mt-6 text-green-600 font-bold text-lg">
        ✅ תודה! פנייתך התקבלה ונחזור אליך בהקדם 🙏
      </div>
     <script>
  const form = document.getElementById("contact-form");
  const submitBtn = document.getElementById("submit-btn");
  const inputs = form.querySelectorAll("input[required], textarea[required]");
  const checkbox = document.getElementById("terms");

  function validateForm() {
    let isValid = true;

    inputs.forEach((input) => {
      if (!input.value.trim()) isValid = false;
    });

    if (!checkbox.checked) isValid = false;

    if (isValid) {
      submitBtn.disabled = false;
      submitBtn.classList.remove("bg-orange-500", "cursor-not-allowed");
      submitBtn.classList.add("bg-blue-600", "text-white", "hover:bg-blue-700");
    } else {
      submitBtn.disabled = true;
      submitBtn.classList.add("bg-orange-500", "cursor-not-allowed");
      submitBtn.classList.remove("bg-blue-600", "text-white", "hover:bg-blue-700");
    }
  }

  form.addEventListener("input", validateForm);
  form.addEventListener("change", validateForm);

  // התחלה במצב "כבוי"
  validateForm();
</script>
    </div>

    <!-- חוות דעת עם כפתור פתיחה -->
    <div class="flex flex-col justify-center bg-white transition-theme rounded-lg shadow-md p-6">
      <h3 class="text-xl font-semibold mb-4 text-center text-gray-800">מה הלקוחות אומרים 💬</h3>
      <div id="testimonial-box" class="text-center text-gray-700 text-lg transition-opacity duration-700 ease-in-out">
        <div class="flex flex-col items-center">
          <img id="testimonial-img" src="https://i.pravatar.cc/80?img=1" alt="avatar" class="w-16 h-16 rounded-full mb-2 shadow" />
          <div class="text-sm font-medium text-gray-800 mb-1" id="testimonial-name">רותם מ.</div>
          <div class="flex gap-1 text-yellow-400 mb-2" id="stars-box">⭐⭐⭐⭐⭐</div>
          <p id="testimonial-text">הכרית הזאת שינתה לי את הישיבה במשרד!</p>
        </div>
      </div>
      <div class="mt-6 text-center">
       <button data-popup="review" class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-5 rounded-full transition-all duration-300 shadow">
          ✍️ השאר חוות דעת משלך
        </button>
      </div>
    </div>
  </div>
</section>

<!-- POPUP Modal לחוות דעת -->
<div id="review-popup" class="fixed inset-0 z-50 bg-black/60 backdrop-blur-sm hidden items-center justify-center">
  <div class="bg-white p-6 rounded-lg shadow-lg max-w-md w-full relative">
    <button data-close="review" class="absolute top-2 left-2 text-gray-500 hover:text-red-500 text-xl">✖</button>
    <h3 class="text-xl font-bold mb-4 text-center">השאר חוות דעת</h3>
    <form id="review-form" action="https://formspree.io/f/mblyqgwq" method="POST" class="space-y-4">
      <input type="text" name="name" autocomplete="name" placeholder="שמך" required class="w-full border p-2 rounded" />
      <input type="email" name="email" autocomplete="email" placeholder="אימייל (לא יוצג)" required class="w-full border p-2 rounded" />
      <textarea name="message" placeholder="חוות דעת" rows="4" class="w-full border p-2 rounded" required></textarea>
      <div class="text-center">
      <p class="text-sm text-gray-500 mb-2">לחץ כדי לדרג</p>
      <div class="star-rating" id="star-rating">
        <span class="star" data-value="5">★</span>
        <span class="star" data-value="4">★</span>
        <span class="star" data-value="3">★</span>
        <span class="star" data-value="2">★</span>
        <span class="star" data-value="1">★</span>
      </div>
      <input type="hidden" name="rating" id="rating-input">
      </div>
      <input type="hidden" name="submittedFrom" value="review-popup" />
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">שליחה</button>
    </form>
    <div id="review-thankyou" class="hidden text-center mt-4 text-green-600 font-bold">✅ תודה על חוות הדעת!</div>
  </div>
</div>
  <footer class="bg-gray-200 py-6 text-center text-sm text-gray-600">
  <div class="flex flex-col items-center gap-2">
    <p>
      <a href="#" onclick="openModal('termsModal', './modals/terms.html'); return false;"> תנאי השימוש</a>
      <a href="#" onclick="openModal('privacyModal', './modals/privacy.html'); return false;">| מדיניות הפרטיות</a>
      <a href="#" onclick="openModal('accessibilityModal', './modals/accessibility.html'); return false;">| הצהרת נגישות</a>

    </p>
    <p>© 2025 Comfass | כל הזכויות שמורות</p>
    <p class="text-xs text-gray-500">עיצוב הלוגו נוצר באהבה על ידי ז'נה קולצ'ין</p>
    <a href="#" title="ComfAss Home">
      <img src="https://comfass.com/img/comfass-logo.jpg" alt="ComfAss Logo Small" class="w-28 opacity-80 hover:opacity-100 transition duration-300" />
    </a>
  </div>
</footer>

<!-- תנאי שימוש -->
<div id="termsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative" dir="rtl">
    <div class="sticky top-0 bg-white z-10 flex justify-end">
      <button onclick="closeModal('termsModal')" class="text-gray-600 hover:text-black text-xl">✖</button>
    </div>
    <div id="termsContent">
      <!-- כאן נטען הקובץ terms.html -->
    </div>
  </div>
</div>

<!-- מדיניות פרטיות -->
<div id="privacyModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative" dir="rtl">

    <div class="sticky top-0 bg-white z-10 flex justify-end">
      <button onclick="closeModal('privacyModal')" class="text-gray-600 hover:text-black text-xl">✖</button>
    </div>
    <div id="privacyContent">
      <!-- כאן ייכנס התוכן של privacy.html -->
    </div>
  </div>
</div>

 <!-- Accessibility Modal (ריק – נטען דינמית) -->
<div id="accessibilityModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto p-6 relative" dir="rtl"
       onclick="event.stopPropagation()">
    <div class="sticky top-0 bg-white z-10 flex justify-end">
      <button onclick="closeModal('accessibilityModal')" class="text-gray-600 hover:text-black text-xl">✖</button>
    </div>
    <div id="accessibilityContent">
      <!-- כאן ייטען accessibility.html -->
    </div>
  </div>
</div>

<!-- Floating Buttons -->
<div class="floating-buttons fixed left-4 bottom-4 z-50 flex flex-col gap-3 items-center">
  
  <!-- WhatsApp Button -->
  <a href="https://wa.me/972546662738?text=היי%20ראיתי%20את%20הכרית%20באתר%20ומעניין%20אותי%20לשמוע%20עוד" 
     target="_blank" 
     title="צ'אט בוואטסאפ" 
     class="w-12 h-12 rounded-full bg-[#25D366] flex items-center justify-center shadow-lg">
    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" 
         alt="WhatsApp" class="w-6 h-6">
  </a>

  <!-- Dark Mode Button -->
  <button id="theme-toggle" 
          title="מצב כהה/בהיר" 
          aria-label="הפעלת מצב כהה או בהיר"
          class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 text-xl shadow-lg flex items-center justify-center">
    <span id="theme-icon">🌙</span>
  </button>

 <!-- Language Button (EN) – מחליף את כפתור המוזיקה -->
  <a href="index-en.html"
     title="Switch to English"
     aria-label="Switch to English"
     class="w-12 h-12 rounded-full bg-white dark:bg-gray-700 shadow-lg flex items-center justify-center font-bold">
    EN
  </a>

</div>

<script src="js/testimonial.js" defer></script>
<script type="module" src="js/review.js" defer></script>
<script type="module" src="js/rating.js" defer></script>
<script type="module" src="js/validation.js" defer></script>
<script type="module" src="js/main.js" defer></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>  AOS.init({ once: false }); </script>
<script> nl_pos = "br"; nl_compact = "1"; </script>
<script src="https://comfass.com/nagishli.js?v=2.3" charset="utf-8" defer></script>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const interval = setInterval(() => {
      const brokenOption = document.querySelector('option[aria-hidden="true"]');
      if (brokenOption) {
        brokenOption.removeAttribute('aria-hidden');
        clearInterval(interval);
      }
    }, 500);
  });
</script>

<script>
  // ✅ סגירה בלחיצה על מקש ESC
  document.addEventListener('keydown', function (event) {
    if (event.key === "Escape") {
      const modal = document.getElementById('accessibilityModal');
      if (modal && !modal.classList.contains('hidden')) {
        modal.classList.add('hidden');
      }
    }
  });
</script>
     
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const slogan = document.getElementById("slogan");
    if (slogan) {
      setTimeout(() => {
        slogan.classList.add("typing-effect");
      }, 1000); // זמן תיאום עם אנימציית הלוגו
    }
  });
</script>
  
<script>
  function openModal(id, url) {
    const modal = document.getElementById(id);
    if (!modal) return;

    // סגירה בלחיצה על הרקע
    modal.onclick = (e) => { if (e.target === modal) closeModal(id); };

    modal.classList.remove('hidden');

    if (url) {
      const contentId = id.replace('Modal', 'Content');
      const contentEl = modal.querySelector('#' + contentId);
      if (!contentEl) return;

      // אינדיקציית טעינה
      contentEl.innerHTML = '<p class="text-gray-500 text-sm">טוען…</p>';

      // בונה נתיב יחסי בטוח
      const finalUrl = new URL(url, document.baseURI).toString();
      console.log('[openModal] fetching:', finalUrl);

      fetch(finalUrl)
        .then(res => {
          if (!res.ok) {
            throw new Error(`HTTP ${res.status} for ${finalUrl}`);
          }
          return res.text();
        })
        .then(html => {
          contentEl.innerHTML = html;
        })
        .catch(err => {
          console.error('שגיאה בטעינת תוכן:', err);
          contentEl.innerHTML = '<p class="text-red-600">⚠️ לא הצלחתי לטעון את התוכן. בדוק את הנתיב/השמות.</p>';
        });
    }
  }

  function closeModal(id){ const m=document.getElementById(id); if(m) m.classList.add('hidden'); }
</script>

<script>
// הקלדה עם מהירויות שונות וסימני פיסוק
function typeText(elementId, text, baseDelay = 60) {
  return new Promise((resolve) => {
    const el = document.getElementById(elementId);
    let i = 0;
    el.innerHTML = '<span id="blinker" class="blinker">|</span>';
    const blinker = document.getElementById("blinker");

    const step = () => {
      if (i >= text.length) {
        blinker.remove();
        resolve();
        return;
      }
      const ch = text.charAt(i);
      blinker.insertAdjacentText("beforebegin", ch);
      i++;

      // מהירות בסיס + האטות חכמות
      let delay = baseDelay;
      if (ch === ' ') delay *= 0.6;                         // רווחים — טיפה מהיר יותר
      if (/[,\.\!\?\:\;]/.test(ch)) delay *= 4;             // פסיקים/נקודות — עצירה קצרה
      if (/[־–—]/.test(ch)) delay *= 2.5;                   // מקף — עצירה בינונית
      if (/[“”'"״׳]/.test(ch)) delay *= 1.8;                // מירכאות/גרש — עצירה קלה

      setTimeout(step, delay);
    };

    step();
  });
}

// גלילה לטופס
function scrollToForm() {
  document.getElementById("contact").scrollIntoView({
    behavior: "smooth"
  });
}

(async function startTypingAnimation() {
  await typeText("line1", "כאן מתחיל השיפור שאתה מרגיש", 60);
  await new Promise(r => setTimeout(r, 300));
  document.getElementById("logo").classList.remove("opacity-0");
  await new Promise(r => setTimeout(r, 800));

  // מאט את השורה השנייה + עצירות אחרי פיסוק
  await typeText("line2", "הפתרון המושלם לישיבה ממושכת במכללות, אוניברסטאות וארגונים", 75);

  // מזריקים כפתור עם כיתה התחלתית (cta-enter) ואז מפעילים טרנזישן בפריים הבא
  const container = document.getElementById("cta-button-container");
  container.innerHTML = `
    <button class="frutiger-button cta-enter" onclick="scrollToForm()">
      <div class="inner">
        <div class="top-white"></div>
        <span class="text">השאר פניה</span>
      </div>
    </button>
  `;
  // טריגר ל-transition: נותן לדפדפן "לצייר" ואז מוסיף את הכיתה הפעילה
  requestAnimationFrame(() => {
    const btn = container.querySelector('.cta-enter');
    // כפול requestAnimationFrame כדי להבטיח חישוב סגנונות לפני ההחלפה
    requestAnimationFrame(() => {
      btn.classList.add('cta-enter-active');
    });
  });
})();
</script>

</body>
</html>
